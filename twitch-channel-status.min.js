!function(){function t(t){if("string"==typeof t&&t)for(var e=0,r=s.length;r>e;e++)if(s[e].src===t)return s[e]}function e(){for(var t,e=0,r=s.length;r>e;e++)if(!s[e].src){if(t)return;t=s[e]}return t}function r(){var t=0;return"undefined"!=typeof a&&a&&"number"==typeof a.skipStackDepth&&(t=a.skipStackDepth),t}function n(t,e){var a,i,c,o="number"==typeof e;return e=o?e:r(),"string"==typeof t&&t&&(o?i=t.match(/((?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(i=t.match(/^(?:|[^:@]*@|.+\)@(?=blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),i&&i[1]||(i=t.match(/\)@((?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),i&&i[1]&&(a=i[1]))),i&&i[1]&&(e>0?(c=t.slice(t.indexOf(i[0])+i[0].length),a=n(c,e-1)):a=i[1])),a}function a(){if(0!==s.length){if(1===s.length)return s[0];if("readyState"in s[0])for(var r=s.length;r--;)if("interactive"===s[r].readyState)return s[r];if("loading"===document.readyState)return s[s.length-1];var a,l=new Error;if(i&&(a=l.stack),!a&&c)try{throw l}catch(t){a=t.stack}if(a){var h=n(a),f=t(h);return f||h!==o||(f=e()),f}}}var i=!1,c=!1;!function(){try{var t=new Error;throw i="string"==typeof t.stack&&!!t.stack,t}catch(t){c="string"==typeof t.stack&&!!t.stack}}();var o=window.location.href,s=document.getElementsByTagName("script");a.skipStackDepth=1;var l=!("currentScript"in document),h=document.__defineGetter__,f="function"==typeof Object.defineProperty&&function(){var t;try{Object.defineProperty(document,"_xyz",{value:"blah",enumerable:!0,writable:!1,configurable:!1}),t="blah"===document._xyz,delete document._xyz}catch(e){t=!1}return t}();document._currentScript=a,l&&(f?Object.defineProperty(document,"currentScript",{get:a,enumerable:!0,configurable:!1}):h&&document.__defineGetter__("currentScript",a))}(),function(t,e){var r=e.attr("data-attribute")||"data-twitch-channel",n=e.attr("data-twitch-clientid")||"data-twitch-clientid",a=parseInt(e.attr("data-interval"))||!1,i=e.attr("data-online-image")||'data:image/svg+xml,<?xml version="1.0"?><svg height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="8" fill="green"/></svg>',c=e.attr("data-offline-image")||'data:image/svg+xml,<?xml version="1.0"?><svg height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle cx="10" cy="10" r="8" fill="red"/></svg>',o=30;t.refreshTwitchChannelStatuses=function(){var e={};return $("img["+r+"]").each(function(){var t=$(this),a=t.attr(r).toLowerCase();e[a]=e[a]||[],e[a].push(t),t.attr("src")||t.attr("src",t.attr("data-offline-image")||c),t.attr("data-twitch-clientid")&&(n=t.attr("data-twitch-clientid"))}),Object.keys(e).length?void $.ajax({url:"https://api.twitch.tv/kraken/streams?client_id="+n,data:{channel:Object.keys(e).join(","),limit:Object.keys(e).length},cache:!1,dataType:"jsonp"}).done(function(r){r.streams.length<r._total&&console.warn("refreshTwitchChannelStatuses couldn't load all online channels! Please reduce the number of channels you are trying to check.");for(var n={},s=0;s<r.streams.length;s++)n[r.streams[s].channel.name]=!0;for(var l in e)if(e.hasOwnProperty(l))for(var h=n[l],f=h?i:c,u=e[l],s=0;s<u.length;s++){var d=u[s],m=d.attr("data-"+(h?"online":"offline")+"-image")||f;d.attr("src",m)}a&&setTimeout(t.refreshTwitchChannelStatuses,1e3*Math.max(a,o))}).fail(function(){setTimeout(t.refreshTwitchChannelStatuses,5e3)}):void(a&&setTimeout(t.refreshTwitchChannelStatuses,1e3*Math.max(a,o)))},$(t.refreshTwitchChannelStatuses)}(document,$(document.currentScript));